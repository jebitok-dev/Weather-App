(()=>{const e=document.querySelector(".city"),t=document.querySelector(".weatherCondition"),o=document.querySelector(".temperature"),a=document.querySelector(".feelsLike"),n=document.querySelector(".tempMaximum"),c=document.querySelector(".humidity"),d=document.querySelector(".degree"),r=document.querySelector(".searchBar"),i=document.querySelector(".add"),m=document.querySelector(".toggleF"),l=document.querySelector(".weatherImage"),s=document.querySelector("body");async function u(e){const t=await fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid=d3038b3303b62168dd448fbeb4531d41",{mode:"cors"}),o=await t.json(),a=o.name,n=o.main.temp,c=o.main.feels_like,d=o.weather[0].description,r=o.main.humidity,i=o.main.temp_max;h(a,n,c,d,r,i),p(d)}u("Nairobi");const h=(d,r,i,m,l,s)=>{m=m.charAt(0).toUpperCase()+m.slice(1),e.textContent=d,t.textContent=m,o.textContent=Math.round(r),a.textContent="Feels like: "+Math.round(i)+"째",n.textContent="Today's high: "+Math.round(s)+"째",c.textContent="Humidty: "+l+"%"};async function p(e){try{const t=await fetch("https://api.giphy.com/v1/stickers/translate?api_key=qitI9CMnXX08n6UFhJJoChiA9ZKbAl53&s="+e,{mode:"cors"}),o=await t.json();l.src=o.data.images.fixed_height.url}catch(e){console.log(e)}}i.addEventListener("click",(()=>{u(r.value)})),r.addEventListener("keyup",(e=>{13===e.keyCode&&(e.preventDefault(),i.click())})),r.addEventListener("click",(()=>{r.value=""})),m.addEventListener("click",(()=>{!async function(){let t=e.textContent,o=!0===m.checked?"imperial":!1===m.checked?"metric":void 0;const a=await fetch("https://api.openweathermap.org/data/2.5/weather?q="+t+"&units="+o+"&appid=d3038b3303b62168dd448fbeb4531d41",{mode:"cors"}),n=await a.json(),c=n.name,r=n.main.temp,i=n.main.feels_like,l=n.weather[0].description,s=n.main.humidity,u=n.main.temp_maximum;p(l),h(c,r,i,l,s,u),!0===m.checked?d.textContent="째F":!1===m.checked&&(d.textContent="째C")}()}));let y=localStorage.getItem("darkMode");const k=document.querySelector(".dark-mode-button"),g=()=>{s.classList.add("dark-mode"),localStorage.setItem("darkMode","enabled"),console.log(y)},S=()=>{s.classList.remove("dark-mode"),localStorage.setItem("darkMode",null),console.log(y)};"enabled"==y?g():S(),k.addEventListener("click",(()=>{y=localStorage.getItem("darkMode"),"enabled"!==y?g():S()}))})();